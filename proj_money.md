# proj_money
自用的记账工具



## 数据存储设计

固定的一些配置存储，导入excel或者json。

用户产生的数据，用二进制的方式记录在本地的某个文件夹下。（这些二进制的存储数据内部程序能够自行进行保存和解析）



## 策划设计

上方或者下方有若干个按钮，用于切换不同的切页功能。目前有的切页：

1.记账

2.账本查看

3.其他



### ”记账“切页

#### 记账功能

默认页面上，玩家可以输入今天的每笔消费的金额、消费类型，可以选择是否自己输入详细时间，否则默认按按下确认按钮的一瞬间为时间。

按确认按钮，会有一个弹窗确认该消费条目的id、金额、时间、类型等。

- 弹框上按确认即提交数据，随后弹框关闭，原本输入的内容清空。
- 弹框上按取消，返回原本输入的内容，不清空。

#### 撤销记账功能

提供撤销条目数据的功能，但是这块要设计的复杂点，不能这么容易就撤销。

- 撤销功能：位于界面在右上角的三点图标处，按下有一个菜单组件，这一项按钮就是”撤销记录“，点击后，有弹框弹出，要求输入条目id（提示条目id可以在”账本查看“切页查询得到）和撤销key。
- 输入完后，按确认按钮，即可撤销，撤销结果直接显示在这个弹框上，用一行文字显示成功或者失败，分别用绿色和红色的字样来显示，失败要后接失败结果，比如没有这个条目id、key不正确等。
- 撤销key：弹框上给有一个”生成新的撤销key“的按钮，用于生成key，这个key保存在二进制数据的文件夹下，保存的是txt格式，能够直接打开，然后将这里面的key复制再输入回软件的输入框，程序对比即可。

#### 花销限制功能

每个类型或者所有的花销限制在一个月的周期内是有规定的，软件中不提供给玩家修改花销限制的功能。（不能在软件、app中修改，直接写死在固定存储的excel或者json中，若有修改的需要，则直接修改配置，更新软件即可。）

超过花销限制也可以计入条目，但是每次提交成功后，都会蹦出一个弹框，提示超出花销，并且超出的花销和原本原本的预算用红色字样来突出显示。

### ”账本查看“切页

用于查看当前的花销，所有的花销类型和花销规定限额等结果图示。

#### 文字展示和图示功能

该界面默认展示的是文本的条目，样式类似于表格。有一个切换选项菜单，可选选择”文本演示“、”直观图示“两种。

”总的“分类，用环形图展示。

“按种类分”分类，用堆叠条形图展示。

#### 种类切换功能

有一组单选框，用于切换当前的类型，分别有”总的“、“按种类分”。



### ”其他“切页

暂时没有什么内容，用于展示一些信息。包含以下内容：

- 作者：disjoint3（LYL）

- 当前版本

- 当前版本打包时间：（程序打包时自动或者手动加上去的一个时间节点，用于表示最近的更新）
- 鸣谢：briefcase、toga
- 一些当前的配置数据展示



## 程序设计

### 项目文件结构

1.0.0版本的文件，后续迭代记得就会更新

```
proj_money/
├── src/
│   └── proj_money/
│       ├── __init__.py
│       ├── app.py
│       ├── models/
│       │   ├── __init__.py
│       │   ├── data_manager.py
│       │   ├── expense_model.py
│       │   └── config_model.py
│       ├── views/
│       │   ├── __init__.py
│       │   ├── main_window.py
│       │   ├── expense_view.py
│       │   ├── ledger_view.py
│       │   └── other_view.py
│       ├── controllers/
│       │   ├── __init__.py
│       │   ├── main_controller.py
│       │   ├── expense_ctrl.py
│       │   ├── ledger_ctrl.py
│       │   └── other_ctrl.py
│       ├── utils/
│       │   ├── __init__.py
│       │   ├── compat.py
│       │   ├── formatters.py
│       │   └── validators.py
│       └── resources/
│           ├── config.json
│           └── icons/
│               ├── app.png
│               ├── expense.png
│               ├── ledger.png
│               └── other.png
├── tests/
│   └── __init__.py
├── pyproject.toml
└── README.md
```











































